<nav class="w-full flex justify-between items-center px-5 py-2 bg-gray-800 text-white text-[15px] shadow font-semibold">

  <!-- Logo commun à tous -->
  <div>
    <img [attr.src]="imagepath" alt="Logo" class="w-40">
  </div>

  <!-- Navbar quand personne n’est connecté (currentUser === null) -->
  <div *ngIf="!currentUser" class="flex justify-between gap-32">
    <div class="flex justify-end pt-1 gap-16 relative">
      <a href="" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Associations</a>

      <!-- Météo avec Dropdown -->
      <div class="relative">
        <button (click)="toggleDropdown()" class="dropdown-menu px-2.5 py-1.5 rounded-sm hover:bg-gray-700 flex items-center">
          Météo
          <span class="ml-1.5 transition-transform text-sm" [class.rotate-180]="isDropdownOpen">⮟</span>
        </button>
        <div *ngIf="isDropdownOpen" class="dropdown-menu absolute left-0 mt-[16px] w-52 bg-white text-black rounded-b-xl py-2 z-50">
          <ul class="space-y-2 text-[#959595]">
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Prévisions</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Alertes météo</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Tendances</a></li>
          </ul>
        </div>
      </div>

      <a href="/marketplace" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Marketplace</a>
      <a href="/contact" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Contact</a>
    </div>

    <div class="flex justify-end pt-1 gap-4">
      <a routerLink="/login" class="px-2.5 py-1.5 rounded-sm border-[0.5px] border-white hover:bg-gray-700">Connexion</a>
      <a routerLink="/register" class="px-2.5 py-1.5 rounded-sm bg-gradient-to-br from-blue-300/90 to-blue-400/80 text-white hover:bg-blue-400">S'inscrire gratuitement</a>
    </div>
  </div>

  <!-- Navbar pour ROLE_ADMIN -->
  <div *ngIf="currentUser && currentUser.role?.roleName === 'ROLE_ADMIN'" class="flex justify-between gap-32">
    <div class="flex justify-end pt-1 gap-16 relative">
      <a routerLink="/admin/dashboard" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Dashboard Admin</a>
      <a routerLink="/admin/users" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Gérer Utilisateurs</a>
      <a href="/contact" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Contact</a>
    </div>

    <div class="flex justify-end pt-1 gap-4">
      <span class="px-2.5 py-1.5">Bienvenue, {{ currentUser.email }}</span>
      <button (click)="logout()" class="px-2.5 py-1.5 rounded-sm border-[0.5px] border-white hover:bg-gray-700">Déconnexion</button>
    </div>
  </div>

  <!-- Navbar pour ROLE_ASSOCIATION -->
  <div *ngIf="currentUser && currentUser.role?.roleName === 'ROLE_ASSOCIATION'" class="flex justify-between gap-32">
    <div class="flex justify-end pt-1 gap-16 relative">
      <a routerLink="/association/dashboard" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Dashboard Association</a>

      <!-- Météo avec Dropdown -->
      <div class="relative">
        <button (click)="toggleDropdown()" class="dropdown-menu px-2.5 py-1.5 rounded-sm hover:bg-gray-700 flex items-center">
          Météo
          <span class="ml-1.5 transition-transform text-sm" [class.rotate-180]="isDropdownOpen">⮟</span>
        </button>
        <div *ngIf="isDropdownOpen" class="dropdown-menu absolute left-0 mt-[16px] w-52 bg-white text-black rounded-b-xl py-2 z-50">
          <ul class="space-y-2 text-[#959595]">
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Prévisions</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Alertes météo</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Tendances</a></li>
          </ul>
        </div>
      </div>

      <a routerLink="/association/events" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Événements</a>
      <a href="/contact" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Contact</a>
    </div>

    <div class="flex justify-end pt-1 gap-4">
      <button (click)="logout()" class="px-2.5 py-1.5 rounded-sm border-[0.5px] border-white hover:bg-gray-700">Déconnexion</button>
    </div>
  </div>

  <!-- Navbar pour ROLE_COLOMBOPHILE -->
  <div *ngIf="currentUser && currentUser.role?.roleName === 'ROLE_COLOMBOPHILE'" class="flex justify-between gap-32">
    <div class="flex justify-end pt-1 gap-16 relative">
      <a routerLink="/colombophile/dashboard" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Dashboard Colombophile</a>

      <!-- Météo avec Dropdown -->
      <div class="relative">
        <button (click)="toggleDropdown()" class="dropdown-menu px-2.5 py-1.5 rounded-sm hover:bg-gray-700 flex items-center">
          Météo
          <span class="ml-1.5 transition-transform text-sm" [class.rotate-180]="isDropdownOpen">⮟</span>
        </button>
        <div *ngIf="isDropdownOpen" class="dropdown-menu absolute left-0 mt-[16px] w-52 bg-white text-black rounded-b-xl py-2 z-50">
          <ul class="space-y-2 text-[#959595]">
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Prévisions</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Alertes météo</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-800">Tendances</a></li>
          </ul>
        </div>
      </div>

      <a routerLink="/colombophile/pigeons" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Mes Pigeons</a>
      <a href="/contact" class="px-2.5 py-1.5 rounded-sm hover:bg-gray-700">Contact</a>
    </div>

    <div class="flex justify-end pt-1 gap-4">
      <button (click)="logout()" class="px-2.5 py-1.5 rounded-sm border-[0.5px] border-white hover:bg-gray-700">Déconnexion</button>
    </div>
  </div>

</nav>